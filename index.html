<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Informações</title>
  <link href="style.css" rel="stylesheet" type="text/css"/>
  <script src="/script.js"></script>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</head>

<body>
  <h1>Informações sobre Diabetes</h1>

  <form id="filter-form">
    <label for="genero">Filtrar por Gênero:</label>
    <select class="form-select" aria-label="Default select example" name="genero" id="genero">
      <option selected>Todos</option>
      <option value="Feminino">Feminino</option>
      <option value="Masculino">Masculino</option>
    </select>

    <label for="tipo_diabetes">Filtrar por Tipo de Diabetes:</label>
    <select class="form-select" aria-label="Default select example" name="tipo_diabetes" id="tipo_diabetes">
      <option value="todos">Todos</option>
      <option value="tipo1">Tipo 1</option>
      <option value="tipo2">Tipo 2</option>
    </select>

    <label>Selecione Sintomas:</label>
    <div class="form-check form-switch">
      <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault"  name="sintomas[]" value="aumento_sede">
      <label class="form-check-label" for="flexSwitchCheckDefault">Aumento de sede</label>
    </div>

    <div class="form-check form-switch">
      <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault"  name="sintomas[]" value="urinacao_frequente">
      <label class="form-check-label" for="flexSwitchCheckDefault">Urinação frequente</label>
    </div>

    <div class="form-check form-switch">
      <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault"  name="sintomas[]" value="cansaco">
      <label class="form-check-label" for="flexSwitchCheckDefault">Cansaço</label>
    </div>

    <div class="form-check form-switch">
      <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault"  name="sintomas[]" value="perda_peso">
      <label class="form-check-label" for="flexSwitchCheckDefault">Perda de peso repentina</label>
    </div>

    <div class="form-check form-switch">
      <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault"  name="sintomas[]" value="obesidade">
      <label class="form-check-label" for="flexSwitchCheckDefault">Obesidade</label>
    </div>

    <div class="form-check form-switch">
      <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault"  name="sintomas[]" value="fraqueza">
      <label class="form-check-label" for="flexSwitchCheckDefault">Fraqueza</label>
    </div>

    <div class="form-check form-switch">
      <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault"  name="sintomas[]" value="embaracamento_visual">
      <label class="form-check-label" for="flexSwitchCheckDefault">Embaçamento visual</label>
    </div>



    <input type="submit" value="Ver dados">
  </form>

  <div id="resultados">
    <h2>Dados dos pacientes</h2>
    <!-- Resultados exibidos aqui -->
  </div>

  <script>
    // Dados fictícios para simulação (substitua por seus próprios dados)
    const dados = [
      { genero: 'Masculino', tipo_diabetes: 'tipo1', sintomas: ['aumento_sede'] },
      { genero: 'Feminino', tipo_diabetes: 'tipo2', sintomas: ['cansaco', 'embaracamento_visual'] },
      // Adicione mais dados aqui
    ];

    // Função para exibir resultados com base nos filtros
    function aplicarFiltros() {
      const generoSelecionado = document.getElementById('genero').value;
      const tipoDiabetesSelecionado = document.getElementById('tipo_diabetes').value;
      const sintomasSelecionados = [...document.querySelectorAll('input[name="sintomas[]"]:checked')].map(input => input.value);

      const resultadosFiltrados = dados.filter(paciente => {
        if (generoSelecionado !== 'Todos' && paciente.genero !== generoSelecionado) {
          return false;
        }
        if (tipoDiabetesSelecionado !== 'todos' && paciente.tipo_diabetes !== tipoDiabetesSelecionado) {
          return false;
        }
        if (sintomasSelecionados.length > 0) {
          for (const sintoma of sintomasSelecionados) {
            if (!paciente.sintomas.includes(sintoma)) {
              return false;
            }
          }
        }
        return true;
      });

      exibirResultados(resultadosFiltrados);
    }

    // Função para exibir os resultados na página
    function exibirResultados(resultados) {
      const resultadosDiv = document.getElementById('resultados');
      resultadosDiv.innerHTML = '';

      if (resultados.length > 0) {
        const tabela = document.createElement('table');
        tabela.innerHTML = `
          <tr>
            <th>Gênero</th>
            <th>Tipo de Diabetes</th>
            <th>Sintomas</th>
          </tr>
        `;

        resultados.forEach(paciente => {
          const sintomas = paciente.sintomas.join(', ');
          const linha = document.createElement('tr');
          linha.innerHTML = `
            <td>${paciente.genero}</td>
            <td>${paciente.tipo_diabetes}</td>
            <td>${sintomas}</td>
          `;
          tabela.appendChild(linha);
        });

        resultadosDiv.appendChild(tabela);
      } else {
        resultadosDiv.innerHTML = '<p>Nenhum resultado encontrado.</p>';
      }
    }

    // Event listener para o envio do formulário
    document.getElementById('filter-form').addEventListener('submit', function (event) {
      event.preventDefault();
      aplicarFiltros();
    });

    // Inicialmente, exibir todos os dados
    exibirResultados(dados);
  </script>
</body>

</html>
